prefixes:
  aat: "http://vocab.getty.edu/aat/"
  ex: "https://w3id.org/dharc/ontology/chad-ap/data/example/"
  crm: "http://www.cidoc-crm.org/cidoc-crm/"
  crmdig: "http://www.ics.forth.gr/isl/CRMdig/"
  lrmoo: "http://iflastandards.info/ns/lrm/lrmoo/"
  frbroo: "http://iflastandards.info/ns/fr/frbr/frbroo/"
  owl: "http://www.w3.org/2002/07/owl#"
  rdf: "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  xml: "http://www.w3.org/XML/1998/namespace"
  xsd: "http://www.w3.org/2001/XMLSchema#"
  rdfs: "http://www.w3.org/2000/01/rdf-schema#"
  rml: "http://w3id.org/rml/"
  morph-kgc: "https://github.com/morph-kgc/morph-kgc/function/built-in.ttl#"
  grel: "http://users.ugent.be/~bjdmeest/function/grel.ttl#"
  idlab-fn: "http://example.com/idlab/function/"
  idlab-fn-m: "https://w3id.org/imec/idlab/function-mapping#"   # src/morph_kgc_changes_metadata_conversions/dataset/samples/aldrovandi_sample_input_file.csv

mappings:
  expression_creation:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri

      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "lrmoo:F28_Expression_Creation" ]
      - p: crm:P9_consists_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob01"
            - parameter: idlab-fn:valueType
              value: "act"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri
      - p: crm:P9_consists_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob02"
            - parameter: idlab-fn:valueType
              value: "act"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri
      - p: crm:P9_consists_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob03"
            - parameter: idlab-fn:valueType
              value: "act"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri
      - p: crm:P9_consists_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob04"
            - parameter: idlab-fn:valueType
              value: "act"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri
      - p: crm:P9_consists_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob05"
            - parameter: idlab-fn:valueType
              value: "act"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri
      - p: crm:P9_consists_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob06"
            - parameter: idlab-fn:valueType
              value: "act"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P9_consists_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob07"
            - parameter: idlab-fn:valueType
              value: "act"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P32_used_general_technique
        o:
          function: idlab-fn:convert_to_aat
          parameters:
            - parameter: idlab-fn:param_tecnica
              value: $(Tecnica)

      - p: lrmoo:R19_created_a_realisation_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "wrk"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: lrmoo:R17_created
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "exp"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P4_has_time-span
        o:
          function: idlab-fn:normalize_and_convert_to_iri

          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "tsp"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri


  # EXPRESSION CREATION (le altre attività in fondo al file)
  expression_creation_activity:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob01"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300404387" ]
      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Autore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  actor_author:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Autore)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri

    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P70i_is_documented_in
        o:
          function: idlab-fn:extract_documented_in_iri
          parameters:
            - parameter: idlab-fn:p_author_name
              value: $(Autore)
          template: "ex:$(o)"  # Utilizza l'IRI estratto dalla UDF

  time_span:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri

      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "tsp"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri
    po:
      - [ a, "crm:E52_Time-Span" ]
      - p: crm:P82a_begin_of_the_begin
        o:
          function: idlab-fn:split_year_range_to_dates
          parameters:
            - parameter: idlab-fn:param_string_e
              value: $(Data)
            - parameter: idlab-fn:param_position_e
              value: "start"
        datatype: xsd:dateTime # Specifica il tipo di dato xsd:dateTime
      - p: crm:P82b_end_of_the_end
        o:
          function: idlab-fn:split_year_range_to_dates
          parameters:
            - parameter: idlab-fn:param_string_e
              value: $(Data)
            - parameter: idlab-fn:param_position_e
              value: "end"
        datatype: xsd:dateTime # Specifica il tipo di dato xsd:dateTime

  work:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "wrk"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    # an original title (aat:300417204) or an exhibition title (aat:300417207)
    po:
      - [ a, "lrmoo:F1_Work" ]
      - p: crm:P102_has_title
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "ttl"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P102_has_title
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob01"
            - parameter: idlab-fn:valueType
              value: "ttl"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P102_has_title
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob02"
            - parameter: idlab-fn:valueType
              value: "ttl"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: lrmoo:R3_is_realised_in
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "exp"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

  work_title:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "ttl"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
        - [ a, "crm:E35_Title" ]
        - [ crm:P2_has_type, "aat:300417204" ]
        - p: crm:P190_has_symbolic_content
          o:
            function: idlab-fn:extract_title
            parameters:
              - parameter: idlab-fn:p_title_original
                value: $(Titolo originale)
            language: it

  museum_title:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob01"
        - parameter: idlab-fn:valueType
          value: "ttl"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E35_Title" ]
      - [ crm:P2_has_type, "aat:300417207" ]
      - p: crm:P190_has_symbolic_content
        o:
          function: idlab-fn:extract_title
          parameters:
            - parameter: idlab-fn:p_title_original
              value: $(Titolo museale)
          language: it

  english_title:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob02"
        - parameter: idlab-fn:valueType
          value: "ttl"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E35_Title" ]
      - [ crm:P2_has_type, "aat:300417207" ]
      - p: crm:P190_has_symbolic_content
        o:
          function: idlab-fn:extract_title
          parameters:
            - parameter: idlab-fn:p_title_original
              value: $(Titolo @en)
          language: en

  expression:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "exp"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "lrmoo:F2_Expression" ]
      - p: crm:P129_is_about
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere i soggetti multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Soggetti)
            - parameter: idlab-fn:valueType
              value: "sub"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

      - p: lrmoo:R4i_is_embodied_in
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "mnf"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

  subjects:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere i soggetti multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Soggetti)
        - parameter: idlab-fn:valueType
          value: "sub"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri
    po:
      - [ a, "crm:E73_Information_Object" ]
      - ["crm:P2_has_type", "aat:300404126"]

  manifestation:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "mnf"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "lrmoo:F3_Manifestation" ]
      - p: crm:P2_has_type
        o:
          function: idlab-fn:convert_documentary_type_to_aat
          parameters:
            - parameter: idlab-fn:param_documentary_type
              value: $(Tipologia documentaria)

      - p: lrmoo:R7i_is_exemplified_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P130i_features_are_also_found_on
        o:
          value: $(Riproduzione digitale)
          type: iri

  manifestation_license_mapping:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri

      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "lic"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E73_Information_Object" ]
      - [ crm:P2_has_type, "aat:300435434" ]
      - p: crm:P67_refers_to
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "mnf"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri
      - p: crm:P70i_is_documented_in
        o:
          value: "http://rightsstatements.org/vocab/InC/1.0/"
          type: iri

  parent_work:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "wrk"
        - parameter: idlab-fn:valueParams
          value: $(NR)
        - parameter: idlab-fn:valueParent
          value: "yes"
      type: iri
    po:
      - [ a, "lrmoo:F1_Work" ]
      - p: lrmoo:R10_has_member
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "wrk"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri
      - p: lrmoo:R3_is_realised_in
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "exp"
            - parameter: idlab-fn:valueParams
              value: $(NR)
            - parameter: idlab-fn:valueParent
              value: "yes"
          type: iri

  parent_expression:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "exp"
        - parameter: idlab-fn:valueParams
          value: $(NR)
        - parameter: idlab-fn:valueParent
          value: "yes"
      type: iri
    po:
      - [ a, "lrmoo:F2_Expression" ]
      - p: lrmoo:R4i_is_embodied_in
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "mnf"
            - parameter: idlab-fn:valueParams
              value: $(NR)
            - parameter: idlab-fn:valueParent
              value: "yes"
          type: iri

  parente_manifestation:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "mnf"
        - parameter: idlab-fn:valueParams
          value: $(NR)
        - parameter: idlab-fn:valueParent
          value: "yes"
      type: iri
    po:
      - [ a, "lrmoo:F3_Manifestation" ]
      - p: crm:P2_has_type
        o:
          function: idlab-fn:convert_documentary_type_to_aat
          parameters:
            - parameter: idlab-fn:param_documentary_type
              value: $(Tipologia opera parente)
      - p: lrmoo:R7i_is_exemplified_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueParams
              value: $(NR)
            - parameter: idlab-fn:valueParent
              value: "yes"
          type: iri

  parent_item:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "itm"
        - parameter: idlab-fn:valueParams
          value: $(NR)
        - parameter: idlab-fn:valueParent
          value: "yes"
      type: iri
    po:
      - [ a, "lrmoo:F5_Item" ]

  item:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "itm"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri
    po:
      - [ a, "lrmoo:F5_Item" ]
      - p: crm:P1_is_identified_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "idf"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P1_is_identified_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob01"
            - parameter: idlab-fn:valueType
              value: "idf"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P1_is_identified_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob02"
            - parameter: idlab-fn:valueType
              value: "idf"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P3_has_note
        o:
          value: $(Didascalia)
          datatype: rdfs:Literal

      - p: crm:P53_has_former_or_current_location
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: ""
            - parameter: idlab-fn:valueType
              value: "plc"
            - parameter: idlab-fn:valueParams
              value: $(Sala mostra)
          type: iri

      # CONDITIONAL - Parte di
      - p: crm:P46i_forms_part_of
        o:
          function: idlab-fn:conditional_normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value: $(NR collegato)
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:relazione
              value: $(Relazione)
            - parameter: idlab-fn:relazione_target
              value: "parte di"
          type: iri

      # CONDITIONAL - Rappresenta
      - p: crm:P62_depicts
        o:
          function: idlab-fn:conditional_normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value: $(NR collegato)
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:relazione
              value: $(Relazione)
            - parameter: idlab-fn:relazione_target
              value: "rappresenta"
          type: iri

  related_item:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "itm"
        - parameter: idlab-fn:valueParams
          value: $(NR collegato)
      type: iri
    po:
      - [ a, "lrmoo:F5_Item" ]
      - p: crm:P1_is_identified_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "idf"
            - parameter: idlab-fn:valueParams
              value: $(NR collegato)
          type: iri

      # CONDITIONAL - è rappresentato da
      - p: crm:P62i_is_depicted_by
        o:
          function: idlab-fn:conditional_normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value: $(NR collegato)
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:relazione
              value: $(Relazione)
            - parameter: idlab-fn:relazione_target
              value: "rappresenta"
          type: iri

      # CONDITIONAL - è composto da
      - p: crm:P46_is_composed_of
        o:
          function: idlab-fn:conditional_normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value: $(NR collegato)
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:relazione
              value: $(Relazione)
            - parameter: idlab-fn:relazione_target
              value: "parte di"
          type: iri


  identifier_1:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "idf"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri
    po:
      - [ a, "crm:E42_Identifier" ]
      - [ crm:P2_has_type, "aat:300312355" ]
      - p: crm:P190_has_symbolic_content
        o:
          value: $(NR)
          datatype: rdfs:Literal

  identifier_2:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob01"
        - parameter: idlab-fn:valueType
          value: "idf"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri
    po:
      - [ a, "crm:E42_Identifier" ]
      - [ crm:P2_has_type, "aat:300312355" ]
      - p: crm:P190_has_symbolic_content
        o:
          value: $(Volume)
          datatype: rdfs:Literal

  identifier_3:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob02"
        - parameter: idlab-fn:valueType
          value: "idf"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri
    po:
      - [ a, "crm:E42_Identifier" ]
      - [ crm:P2_has_type, "aat:300404704" ]
      - p: crm:P190_has_symbolic_content
        o: $(Collocazione)
        datatype: rdfs:Literal

  identifier_1_related:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob00"
        - parameter: idlab-fn:valueType
          value: "idf"
        - parameter: idlab-fn:valueParams
          value: $(NR collegato)
      type: iri
    po:
      - [ a, "crm:E42_Identifier" ]
      - [ crm:P2_has_type, "aat:300312355" ]
      - p: crm:P190_has_symbolic_content
        o:
          value: $(NR collegato)
          datatype: rdfs:Literal


  # CURATION
  activity_08_curation:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      # Passaggio 2: creare iri normalizzato per l'azione *
      function: idlab-fn:normalize_and_convert_to_iri

      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob08"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300054277" ]

      - p: crm:P16_used_specific_object
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri

      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Ente conservatore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri
      - p: crm:P12_occurred_in_the_presence_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: ""
            - parameter: idlab-fn:valueType
              value: "col"
            - parameter: idlab-fn:valueParams
              value: $(Collezione)
          type: iri

  curated_collection:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: ""
        - parameter: idlab-fn:valueType
          value: "col"
        - parameter: idlab-fn:valueParams
          value: $(Collezione)
      type: iri

    po:
      - [ a, "crm:E24_Physical_Human-Made_Thing" ]
      - [ crm:P2_has_type, "aat:300025976" ]

  actor_curation:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Ente conservatore)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri
    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P74_has_current_or_former_residence
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: ""
            - parameter: idlab-fn:valueType
              value: "plc"
            - parameter: idlab-fn:valueParams
              value: $(Luogo conservazione)
          type: iri

  place_curation:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: ""
        - parameter: idlab-fn:valueType
          value: "plc"
        - parameter: idlab-fn:valueParams
          value: $(Luogo conservazione)
      type: iri
    po:
      - [ a, "crm:E53_Place" ]
      - p: crm:P74i_is_current_or_former_residence_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Ente conservatore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  #TRANSLATION
  translation_02_activity:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob02"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300069831" ]
      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Traduttore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  actor_translator:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Traduttore)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri

    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P70i_is_documented_in
        o:
          function: idlab-fn:extract_documented_in_iri
          parameters:
            - parameter: idlab-fn:p_author_name
              value: $(Traduttore)
          template: "ex:$(o)"  # Utilizza l'IRI estratto dalla UDF

  # ENGRAVING
  engraving_03_activity:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob03"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300053225" ]
      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Incisore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  actor_engraver:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Incisore)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri

    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P70i_is_documented_in
        o:
          function: idlab-fn:extract_documented_in_iri
          parameters:
            - parameter: idlab-fn:p_author_name
              value: $(Incisore)
          template: "ex:$(o)"  # Utilizza l'IRI estratto dalla UDF

  # PUBLISHING
  publishing_04_activity:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob04"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300054686" ]
      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Editore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  actor_publisher:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Editore)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri

    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P70i_is_documented_in
        o:
          function: idlab-fn:extract_documented_in_iri
          parameters:
            - parameter: idlab-fn:p_author_name
              value: $(Editore)
          template: "ex:$(o)"  # Utilizza l'IRI estratto dalla UDF

  place_publishing:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: ""
        - parameter: idlab-fn:valueType
          value: "plc"
        - parameter: idlab-fn:valueParams
          value: $(Luogo editore)
      type: iri
    po:
      - [ a, "crm:E53_Place" ]
      - p: crm:P74i_is_current_or_former_residence_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Editore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  # PREPARATION
  preparation_05_activity:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob05"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300077565" ]
      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Preparatore museale)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  actor_preparation:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Preparatore museale)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri

    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P70i_is_documented_in
        o:
          function: idlab-fn:extract_documented_in_iri
          parameters:
            - parameter: idlab-fn:p_author_name
              value: $(Preparatore museale)
          template: "ex:$(o)"  # Utilizza l'IRI estratto dalla UDF

  # COMMISSION
  commission_06_activity:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob06"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300417639" ]
      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Committente)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  actor_commission:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Committente)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri

    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P70i_is_documented_in
        o:
          function: idlab-fn:extract_documented_in_iri
          parameters:
            - parameter: idlab-fn:p_author_name
              value: $(Committente)
          template: "ex:$(o)"  # Utilizza l'IRI estratto dalla UDF

  # DISCOVERY
  discovery_07_activity:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: "ob07"
        - parameter: idlab-fn:valueType
          value: "act"
        - parameter: idlab-fn:valueParams
          value: $(NR)
      type: iri

    po:
      - [ a, "crm:E7_Activity" ]
      - [ crm:P2_has_type, "aat:300404386" ]
      - p: crm:P14_carried_out_by
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueParams
              value:
                # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
                function: idlab-fn:multiple_separator_split_explode
                parameters:
                  - parameter: idlab-fn:list_param_string_sep
                    value: ";---,--- e ---\n--- + --- - ---\r"
                  - parameter: idlab-fn:valParam
                    value: $(Scopritore)
            - parameter: idlab-fn:valueType
              value: "acr"
            - parameter: idlab-fn:valueNum
              value: ""
          type: iri

  actor_discovery:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueParams
          value:
            # Passaggio 1: Esplodere nomi delle persone responsabili, in caso di valori multipli
            function: idlab-fn:multiple_separator_split_explode
            parameters:
              - parameter: idlab-fn:list_param_string_sep
                value: ";---,--- e ---\n--- + --- - ---\r"
              - parameter: idlab-fn:valParam
                value: $(Scopritore)
        - parameter: idlab-fn:valueType
          value: "acr"
        - parameter: idlab-fn:valueNum
          value: ""
      type: iri

    po:
      - [ a, "crm:E39_Actor" ]
      - p: crm:P70i_is_documented_in
        o:
          function: idlab-fn:extract_documented_in_iri
          parameters:
            - parameter: idlab-fn:p_author_name
              value: $(Scopritore)
          template: "ex:$(o)"  # Utilizza l'IRI estratto dalla UDF



  # stanza
  place_room:
    sources:
      - 'sample_input_file.csv~csv'
    s:
      function: idlab-fn:normalize_and_convert_to_iri
      parameters:
        - parameter: idlab-fn:valueNum
          value: ""
        - parameter: idlab-fn:valueType
          value: "plc"
        - parameter: idlab-fn:valueParams
          value: $(Sala mostra)
      type: iri
    po:
      - [ a, "crm:E53_Place" ]
      - p: crm:P53i_is_former_or_current_location_of
        o:
          function: idlab-fn:normalize_and_convert_to_iri
          parameters:
            - parameter: idlab-fn:valueNum
              value: "ob00"
            - parameter: idlab-fn:valueType
              value: "itm"
            - parameter: idlab-fn:valueParams
              value: $(NR)
          type: iri












